{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact Us - TekLora</title>
  <!-- Favicon -->
  <link rel="icon" href="{% static 'brand/images/logo.png' %}" type="image/jpeg">

  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Custom CSS if needed, though Tailwind handles most -->
  <link rel="stylesheet" href="{% static 'brand/css/style.css' %}" />
  <link rel="stylesheet" href="{% static 'brand/css/chat-assistant.css' %}" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body class="bg-[#06090F] text-white">

  <!-- Header -->
  {% include 'brand/header.html' %}

  <div class="container mx-auto px-4 py-32 relative overflow-hidden min-h-screen flex items-center justify-center">

    <!-- Decorative Background Elements (matching theme) -->
    <div class="absolute top-0 left-0 w-full h-full overflow-hidden -z-10">
      <span
        class="absolute top-[-10%] right-[48%] w-[500px] h-[500px] bg-gradient-to-b from-blue-500/20 to-transparent rounded-full blur-[100px] transform translate-x-1/2 -translate-y-1/2"></span>
      <!-- Shape can be an image or CSS -->

    </div>

    <div
      class="bg-[#0D121D] rounded-3xl shadow-2xl overflow-hidden w-full max-w-6xl grid grid-cols-1 md:grid-cols-2 border border-white/5">

      <!-- Contact Info Side -->
      <div class="p-10 md:p-12 text-left flex flex-col justify-between relative overflow-hidden">
        <!-- Overlay -->
        <div class="absolute inset-0 bg-blue-600/10 z-0"></div>
        <div class="relative z-10">
          <h3 class="text-3xl font-bold mb-4 text-white">Let's get in touch</h3>
          <p class="text-gray-400 text-sm leading-relaxed mb-8">
            Ready to transform your digital presence? Reach out today to discuss your project, ask questions, or
            schedule a consultation. We're here to build the future with you.
          </p>

          <div class="space-y-6">
            <div class="flex items-center gap-4 text-gray-300">
              <div class="w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center text-blue-400">
                <img src="{% static 'brand/images/location.png' %}" class="w-5 h-5" alt="Location" />
              </div>
              <p>Nairobi, Kenya</p>
            </div>
            <div class="flex items-center gap-4 text-gray-300">
              <div class="w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center text-blue-400">
                <img src="{% static 'brand/images/email.png' %}" class="w-5 h-5" alt="Email" />
              </div>
              <p>info@brantechsolutions.co</p>
            </div>
            <div class="flex items-center gap-4 text-gray-300">
              <div class="w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center text-blue-400">
                <img src="{% static 'brand/images/phone.png' %}" class="w-5 h-5" alt="Phone" />
              </div>
              <p>+254 704 894220</p>
            </div>
          </div>
        </div>

        <div class="mt-12 relative z-10">
          <p class="text-gray-400 mb-4">Connect with us:</p>
          <div class="flex gap-4">
            <a href="#"
              class="w-9 h-9 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-400 hover:bg-blue-500 hover:text-white transition-all">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="https://whatsapp.com/channel/0029Vb6Apwr7oQhe7bynyU0o"
              class="w-9 h-9 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-400 hover:bg-blue-500 hover:text-white transition-all">
              <i class="fab fa-whatsapp"></i>
            </a>
            <a href="https://www.instagram.com/brantech_solutions"
              class="w-9 h-9 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-400 hover:bg-blue-500 hover:text-white transition-all">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="https://www.linkedin.com/company/brantech-solutions-ke/"
              class="w-9 h-9 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-400 hover:bg-blue-500 hover:text-white transition-all">
              <i class="fab fa-linkedin-in"></i>
            </a>
          </div>
        </div>
      </div>

      <!-- Contact Form Side -->
      <div class="p-10 md:p-12 bg-[#06090F] relative">
        <span
          class="absolute top-10 right-10 w-24 h-24 bg-gradient-to-tr from-blue-500 to-green-500 rounded-full blur-[60px] opacity-20"></span>
        <span
          class="absolute bottom-10 left-10 w-32 h-32 bg-gradient-to-tr from-purple-500 to-pink-500 rounded-full blur-[60px] opacity-20"></span>

        <form action="https://formspree.io/f/mpwvkpvk" method="POST" autocomplete="off" class="relative z-10">
          <h3 class="text-2xl font-bold mb-6 text-white">Contact us</h3>

          <div class="relative mb-6">
            <input type="text" name="name" id="name" required
              class="w-full bg-[#0D121D] border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors peer placeholder-transparent"
              placeholder="Username" />
            <label for="name"
              class="absolute left-4 -top-2.5 text-blue-400 text-xs bg-[#06090F] px-1 transition-all 
                     peer-placeholder-shown:top-3 peer-placeholder-shown:text-gray-500 peer-placeholder-shown:text-sm peer-placeholder-shown:bg-transparent
                     peer-focus:-top-2.5 peer-focus:text-blue-400 peer-focus:text-xs peer-focus:bg-[#06090F]">Username</label>
          </div>

          <div class="relative mb-6">
            <input type="email" name="email" id="email" required
              class="w-full bg-[#0D121D] border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors peer placeholder-transparent"
              placeholder="Email" />
            <label for="email"
              class="absolute left-4 -top-2.5 text-blue-400 text-xs bg-[#06090F] px-1 transition-all 
                     peer-placeholder-shown:top-3 peer-placeholder-shown:text-gray-500 peer-placeholder-shown:text-sm peer-placeholder-shown:bg-transparent
                     peer-focus:-top-2.5 peer-focus:text-blue-400 peer-focus:text-xs peer-focus:bg-[#06090F]">Email</label>
          </div>

          <div class="relative mb-6">
            <input type="tel" name="phone" id="phone"
              class="w-full bg-[#0D121D] border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors peer placeholder-transparent"
              placeholder="Phone" />
            <label for="phone"
              class="absolute left-4 -top-2.5 text-blue-400 text-xs bg-[#06090F] px-1 transition-all 
                     peer-placeholder-shown:top-3 peer-placeholder-shown:text-gray-500 peer-placeholder-shown:text-sm peer-placeholder-shown:bg-transparent
                     peer-focus:-top-2.5 peer-focus:text-blue-400 peer-focus:text-xs peer-focus:bg-[#06090F]">Phone</label>
          </div>

          <div class="relative mb-6">
            <textarea name="message" id="message" required
              class="w-full bg-[#0D121D] border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors h-32 resize-none peer placeholder-transparent"
              placeholder="Message"></textarea>
            <label for="message"
              class="absolute left-4 -top-2.5 text-blue-400 text-xs bg-[#06090F] px-1 transition-all 
                     peer-placeholder-shown:top-3 peer-placeholder-shown:text-gray-500 peer-placeholder-shown:text-sm peer-placeholder-shown:bg-transparent
                     peer-focus:-top-2.5 peer-focus:text-blue-400 peer-focus:text-xs peer-focus:bg-[#06090F]">Message</label>
          </div>

          <button type="submit" id="submitBtn"
            class="w-full bg-gradient-to-r from-blue-600 to-blue-500 text-white font-bold py-3 rounded-lg cursor-pointer hover:shadow-lg hover:from-blue-500 hover:to-blue-400 transition-all flex items-center justify-center gap-2">
            <span>Send Message</span>
            <i class="fas fa-paper-plane"></i>
          </button>
        </form>
      </div>
    </div>
  </div>

  <script>
    document.querySelector('form').addEventListener('submit', async function (e) {
      e.preventDefault();
      const form = e.target;
      const btn = document.getElementById('submitBtn');
      const originalContent = btn.innerHTML;

      // Show loading state
      btn.disabled = true;
      btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';

      try {
        const response = await fetch(form.action, {
          method: form.method,
          body: new FormData(form),
          headers: {
            'Accept': 'application/json'
          }
        });

        if (response.ok) {
          // Success
          alert("Congratulations! Your message has been sent successfully.");
          window.location.href = "{% url 'index' %}";
        } else {
          // Error
          alert("Oops! There was a problem sending your message. Please try again.");
          btn.disabled = false;
          btn.innerHTML = originalContent;
        }
      } catch (error) {
        alert("Oops! There was a network error. Please check your connection and try again.");
        btn.disabled = false;
        btn.innerHTML = originalContent;
      }
    });
  </script>

  <!-- Footer -->
  {% include 'brand/footer.html' %}

  <script src="{% static 'brand/js/components.js' %}"></script>
  <script src="{% static 'brand/js/app.js' %}"></script>

  <!-- Chat Assistant -->
  <div id="chatAssistant" class="chat-assistant">
    <!-- Floating Chat Button -->
    <div id="chatToggle" class="chat-toggle">
      <svg class="chat-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2-2z" />
      </svg>
      <div class="chat-notification" id="chatNotification" style="display: none;"></div>
    </div>

    <!-- Chat Window -->
    <div id="chatWindow" class="chat-window">
      <!-- Chat Header -->
      <div class="chat-header">
        <div class="chat-header-info">
          <div class="chat-avatar">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
              <circle cx="12" cy="7" r="4" />
            </svg>
          </div>
          <div class="chat-header-text">
            <h3>TekLora Assistant</h3>
            <p>How can I help you today?</p>
          </div>
        </div>
        <button id="chatClose" class="chat-close">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18" />
            <line x1="6" y1="6" x2="18" y2="18" />
          </svg>
        </button>
      </div>

      <!-- Chat Messages -->
      <div id="chatMessages" class="chat-messages" style="background-color: #f3f4f6; color: #1f2937;">
        <div class="chat-welcome">
          <div class="welcome-message">
            <div class="welcome-avatar">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                <circle cx="12" cy="7" r="4" />
              </svg>
            </div>
            <div class="welcome-text">
              <p>Hello! I'm your TekLora Solutions assistant. I can help you with:</p>
              <ul>
                <li>Our services and solutions</li>
                <li>Project inquiries</li>
                <li>Technical support</li>
                <li>General questions</li>
              </ul>
              <p>What would you like to know?</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Chat Input -->
      <div class="chat-input-container">
        <div class="chat-input-wrapper">
          <input type="text" id="chatInput" class="chat-input" placeholder="Type your message..." maxlength="500">
          <button id="chatSend" class="chat-send" disabled>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="22" y1="2" x2="11" y2="13" />
              <polygon points="22,2 15,22 11,13 2,9 22,2" />
            </svg>
          </button>
        </div>
        <div class="chat-typing" id="chatTyping" style="display: none;">
          <div class="typing-indicator">
            <span></span>
            <span></span>
            <span></span>
          </div>
          <span>TekLora Assistant is typing...</span>
        </div>
      </div>
    </div>
  </div>

  <script src="{% static 'brand/js/chat-assistant.js' %}"></script>
</body>

</html>